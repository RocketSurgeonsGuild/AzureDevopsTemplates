parameters:
  DotNet21Version: "2.1.x"
  DotNetVersion: "2.2.x"
  DotNet3Version: "3.0.100-preview8-013656"

steps:
  - download: current
    displayName: "Download Release Notes"
    artifact: 'Release Notes'
    condition: and(succeeded(), eq(variables['Build.SourceBranch'], 'refs/heads/master'))

  - task: GitHubRelease@0
    displayName: 'Update GitHub_Release'
    inputs:
      gitHubConnection: github
      action: edit
      title: v$(GitVersion.MajorMinorPatch)
      tag: v$(GitVersion.MajorMinorPatch)
      isDraft: true
      isPreRelease: false
      releaseNotesFile: "$(Pipeline.Workspace)/Release Notes/release-v$(GitVersion.MajorMinorPatch).md"
    condition: and(succeeded(), eq(variables['Build.SourceBranch'], 'refs/heads/master'))
