parameters:
  NuGetVersion: "5.2.0"
  Artifacts: "$(Pipeline.Workspace)/nuget/"
  FeedId: ''
  AllowPackageConflicts: 'true'
  AccessToken: '$(System.AccessToken)'

steps:
  - task: NuGetToolInstaller@1
    displayName: "Get NuGet"
    inputs:
      versionSpec: ${{ parameters.NuGetVersion }}
  - task: NuGetCommand@2
    displayName: NuGet Push
    inputs:
      command: "push"
      packagesToPush: "${{ parameters.Artifacts }}/**/*.nupkg;!${{ parameters.Artifacts }}/**/*.symbols.nupkg"
      feedPublish: ${{ parameters.FeedId }}
      allowPackageConflicts: ${{ parameters.AllowPackageConflicts }}
