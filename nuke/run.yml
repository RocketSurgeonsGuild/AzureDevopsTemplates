parameters:
  Targets: 'Default'
  Configuration: 'Release'
  Coverage: '$(Agent.BuildDirectory)/c'
  Artifacts: $(Build.ArtifactStagingDirectory)
  Verbosity: 'Normal'

steps:
- task: DotNetCoreCLI@2
  displayName: 'dotnet nuke'
  inputs:
    command: custom
    custom: nuke
    arguments: ${{ format('{0} --Configuration="${{ parameters.Configuration }}" --Artifacts="${{ parameters.Artifacts }}" --Coverage="${{ parameters.Coverage }}" --verbosity="${{ parameters.Verbosity }}"', parameters.Targets) }}

